# UI 组件与交互规范

> **版本**: v2.0.0  \
> **来源**: 《04_UI设计与交互规范.md》《10_完整实现细节补充.md》

---

## 1. 设计语言

| 项目 | 规范 |
|------|------|
| 主题 | 复古木质 + 现代UI |
| 色彩 | 暖色调 + 蓝/绿状态色 |
| 字体 | `Segoe UI`, `Tahoma`, `sans-serif` |
| 动画 | CSS关键帧 + 过渡 |

### CSS变量
参见 `04_UI设计与交互规范.md` §1.2

```css
:root {
  --board-wood-light: #f4e4bc;
  --board-wood-medium: #d4a574;
  --board-line-color: #654321;
  --piece-black: #1a1a1a;
  --piece-white: #f8f8f8;
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --error-color:   #f44336;
}
```

---

## 2. 布局结构

```
┌──────────────────────────────┐
│         Header (标题栏)       │
├─────────────┬───────────────┤
│  左侧面板    │   棋盘+提示+回放 │
│  (320px)     │   (自适应)       │
└─────────────┴───────────────┘
```

- 桌面布局: CSS Grid `grid-template-columns: 300px 1fr`
- 移动布局: 垂直堆叠

---

## 3. 组件目录

### 3.1 Header
- 标题、版本徽章、全局按钮（提示、设置、帮助）
- 参考 `10_完整实现细节补充.md` §1.1

### 3.2 左侧面板
| 组件 | 内容 |
|------|------|
| 当前玩家卡片 | 棋子图标 + 文本 |
| 状态信息 | 模式、回合、用时 |
| 控制按钮 | 新游戏、悔棋、模式切换 |
| AI设置 | 难度选择、AI状态 |
| VCF面板 | 题目信息、进度、按钮 |

### 3.3 棋盘区域
- Canvas棋盘 (`canvas#gomoku-board`)
- 坐标开关
- 提示条
- 回放控制器

### 3.4 模态框
- 设置、帮助、游戏结果、回放步骤
- 结构参见 `10_完整实现细节补充.md` §1.1

---

## 4. 交互规范

| 操作 | 反馈 |
|------|------|
| 鼠标悬停 | 半透明圆预览 |
| 点击落子 | 棋子动画 + 声音 |
| 禁手 | 红色高亮 + 文案提示 |
| AI思考 | 显示“思考中…”并禁用按钮 |
| 模式切换 | 自动重置棋盘 |

### 快捷键
```
Ctrl/Cmd + N → 新游戏
Ctrl/Cmd + Z → 悔棋
M             → 模式切换
H             → AI提示
Esc           → 关闭弹窗
```

---

## 5. 响应式与可访问性

- 断点: ≥1200px 全尺寸 / 768~1199px 缩放 / <768px 单列
- Canvas Retina支持: `ctx.scale(window.devicePixelRatio, window.devicePixelRatio)`
- 可访问性: `aria-label`、`role="status"`、键盘导航

---

## 6. 动画与动效

- 棋子落子：`@keyframes piece-drop`
- 胜利连线：渐变线条 + 闪烁
- 模态框：淡入淡出 + 缩放
- VCF完成：粒子或渐变背景

详细实现：`10_完整实现细节补充.md` §2

---

## 7. 参考
- `04_UI设计与交互规范.md`
- `10_完整实现细节补充.md`
